{"version":3,"sources":["../../js/map.js"],"names":[],"mappings":"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","file":"map.built.js","sourcesContent":["\r\n//\r\n// Global map.js variables\r\n//\r\n\r\nvar $selectExclude;\r\nvar $selectNotify;\r\n\r\nvar language = document.documentElement.lang == \"\" ? \"en\" : document.documentElement.lang;\r\nvar idToPokemon = {};\r\n\r\nvar excludedPokemon = [];\r\nvar notifiedPokemon = [];\r\n\r\nvar map;\r\nvar rawDataIsLoading = false;\r\nvar locationMarker;\r\nvar marker;\r\n\r\nvar noLabelsStyle=[{featureType:\"poi\",elementType:\"labels\",stylers:[{visibility:\"off\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]}];\r\nvar light2Style=[{\"elementType\":\"geometry\",\"stylers\":[{\"hue\":\"#ff4400\"},{\"saturation\":-68},{\"lightness\":-4},{\"gamma\":0.72}]},{\"featureType\":\"road\",\"elementType\":\"labels.icon\"},{\"featureType\":\"landscape.man_made\",\"elementType\":\"geometry\",\"stylers\":[{\"hue\":\"#0077ff\"},{\"gamma\":3.1}]},{\"featureType\":\"water\",\"stylers\":[{\"hue\":\"#00ccff\"},{\"gamma\":0.44},{\"saturation\":-33}]},{\"featureType\":\"poi.park\",\"stylers\":[{\"hue\":\"#44ff00\"},{\"saturation\":-23}]},{\"featureType\":\"water\",\"elementType\":\"labels.text.fill\",\"stylers\":[{\"hue\":\"#007fff\"},{\"gamma\":0.77},{\"saturation\":65},{\"lightness\":99}]},{\"featureType\":\"water\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"gamma\":0.11},{\"weight\":5.6},{\"saturation\":99},{\"hue\":\"#0091ff\"},{\"lightness\":-86}]},{\"featureType\":\"transit.line\",\"elementType\":\"geometry\",\"stylers\":[{\"lightness\":-48},{\"hue\":\"#ff5e00\"},{\"gamma\":1.2},{\"saturation\":-23}]},{\"featureType\":\"transit\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"saturation\":-64},{\"hue\":\"#ff9100\"},{\"lightness\":16},{\"gamma\":0.47},{\"weight\":2.7}]}];\r\nvar darkStyle=[{\"featureType\":\"all\",\"elementType\":\"labels.text.fill\",\"stylers\":[{\"saturation\":36},{\"color\":\"#b39964\"},{\"lightness\":40}]},{\"featureType\":\"all\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"visibility\":\"on\"},{\"color\":\"#000000\"},{\"lightness\":16}]},{\"featureType\":\"all\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"administrative\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":20}]},{\"featureType\":\"administrative\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":17},{\"weight\":1.2}]},{\"featureType\":\"landscape\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":20}]},{\"featureType\":\"poi\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":21}]},{\"featureType\":\"road.highway\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":17}]},{\"featureType\":\"road.highway\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":29},{\"weight\":0.2}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":18}]},{\"featureType\":\"road.local\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#181818\"},{\"lightness\":16}]},{\"featureType\":\"transit\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":19}]},{\"featureType\":\"water\",\"elementType\":\"geometry\",\"stylers\":[{\"lightness\":17},{\"color\":\"#525252\"}]}];\r\nvar pGoStyle=[{\"featureType\":\"landscape.man_made\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#a1f199\"}]},{\"featureType\":\"landscape.natural.landcover\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#37bda2\"}]},{\"featureType\":\"landscape.natural.terrain\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#37bda2\"}]},{\"featureType\":\"poi.attraction\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"visibility\":\"on\"}]},{\"featureType\":\"poi.business\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#e4dfd9\"}]},{\"featureType\":\"poi.business\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"poi.park\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#37bda2\"}]},{\"featureType\":\"road\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#84b09e\"}]},{\"featureType\":\"road\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#fafeb8\"},{\"weight\":\"1.25\"}]},{\"featureType\":\"road.highway\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#5ddad6\"}]}];\r\nvar light2StyleNoLabels=[{\"elementType\":\"geometry\",\"stylers\":[{\"hue\":\"#ff4400\"},{\"saturation\":-68},{\"lightness\":-4},{\"gamma\":0.72}]},{\"featureType\":\"road\",\"elementType\":\"labels.icon\"},{\"featureType\":\"landscape.man_made\",\"elementType\":\"geometry\",\"stylers\":[{\"hue\":\"#0077ff\"},{\"gamma\":3.1}]},{\"featureType\":\"water\",\"stylers\":[{\"hue\":\"#00ccff\"},{\"gamma\":0.44},{\"saturation\":-33}]},{\"featureType\":\"poi.park\",\"stylers\":[{\"hue\":\"#44ff00\"},{\"saturation\":-23}]},{\"featureType\":\"water\",\"elementType\":\"labels.text.fill\",\"stylers\":[{\"hue\":\"#007fff\"},{\"gamma\":0.77},{\"saturation\":65},{\"lightness\":99}]},{\"featureType\":\"water\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"gamma\":0.11},{\"weight\":5.6},{\"saturation\":99},{\"hue\":\"#0091ff\"},{\"lightness\":-86}]},{\"featureType\":\"transit.line\",\"elementType\":\"geometry\",\"stylers\":[{\"lightness\":-48},{\"hue\":\"#ff5e00\"},{\"gamma\":1.2},{\"saturation\":-23}]},{\"featureType\":\"transit\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"saturation\":-64},{\"hue\":\"#ff9100\"},{\"lightness\":16},{\"gamma\":0.47},{\"weight\":2.7}]},{\"featureType\":\"all\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.text.fill\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]}];\r\nvar darkStyleNoLabels=[{\"featureType\":\"all\",\"elementType\":\"labels.text.fill\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"administrative\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":20}]},{\"featureType\":\"administrative\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":17},{\"weight\":1.2}]},{\"featureType\":\"landscape\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":20}]},{\"featureType\":\"poi\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":21}]},{\"featureType\":\"road.highway\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":17}]},{\"featureType\":\"road.highway\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":29},{\"weight\":0.2}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":18}]},{\"featureType\":\"road.local\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#181818\"},{\"lightness\":16}]},{\"featureType\":\"transit\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":19}]},{\"featureType\":\"water\",\"elementType\":\"geometry\",\"stylers\":[{\"lightness\":17},{\"color\":\"#525252\"}]}];\r\nvar pGoStyleNoLabels=[{\"featureType\":\"landscape.man_made\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#a1f199\"}]},{\"featureType\":\"landscape.natural.landcover\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#37bda2\"}]},{\"featureType\":\"landscape.natural.terrain\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#37bda2\"}]},{\"featureType\":\"poi.attraction\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"visibility\":\"on\"}]},{\"featureType\":\"poi.business\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#e4dfd9\"}]},{\"featureType\":\"poi.business\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"poi.park\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#37bda2\"}]},{\"featureType\":\"road\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#84b09e\"}]},{\"featureType\":\"road\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#fafeb8\"},{\"weight\":\"1.25\"}]},{\"featureType\":\"road.highway\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#5ddad6\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.text.fill\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]}];\r\n\r\nvar selectedStyle = 'light';\r\n\r\nvar map_data = {\r\n  pokemons: {},\r\n  gyms: {},\r\n  pokestops: {},\r\n  lure_pokemons: {},\r\n  scanned: {}\r\n};\r\nvar gym_types = [\"Uncontested\", \"Mystic\", \"Valor\", \"Instinct\"];\r\nvar audio = new Audio('static/sounds/ding.mp3');\r\nvar pokemon_sprites = {\r\n  normal: {\r\n    columns: 12,\r\n    icon_width: 30,\r\n    icon_height: 30,\r\n    sprite_width: 360,\r\n    sprite_height: 390,\r\n    filename: 'static/icons-sprite.png',\r\n    name: 'Normal'\r\n  },\r\n  highres: {\r\n    columns: 7,\r\n    icon_width: 65,\r\n    icon_height: 65,\r\n    sprite_width: 455,\r\n    sprite_height: 1430,\r\n    filename: 'static/icons-large-sprite.png',\r\n    name: 'High-Res'\r\n  }\r\n};\r\n\r\n//\r\n// LocalStorage helpers\r\n//\r\n\r\nvar StoreTypes = {\r\n  Boolean: {\r\n    parse: function(str) {\r\n      switch (str.toLowerCase()) {\r\n        case '1':\r\n        case 'true':\r\n        case 'yes':\r\n          return true;\r\n        default:\r\n          return false;\r\n      }\r\n    },\r\n    stringify: function(b) {\r\n      return b ? 'true' : 'false';\r\n    }\r\n  },\r\n  JSON: {\r\n    parse: function(str) {\r\n      return JSON.parse(str);\r\n    },\r\n    stringify: function(json) {\r\n      return JSON.stringify(json);\r\n    }\r\n  },\r\n  String: {\r\n    parse: function(str) {\r\n      return str;\r\n    },\r\n    stringify: function(str) {\r\n      return str;\r\n    }\r\n  },\r\n  Number: {\r\n    parse: function(str) {\r\n      return parseInt(str, 10);\r\n    },\r\n    stringify: function(number) {\r\n      return number.toString();\r\n    }\r\n  }\r\n};\r\n\r\nvar StoreOptions = {\r\n  map_style: {\r\n    default: 'roadmap',\r\n    type: StoreTypes.String\r\n  },\r\n  remember_select_exclude: {\r\n    default: [],\r\n    type: StoreTypes.JSON\r\n  },\r\n  remember_select_notify: {\r\n    default: [],\r\n    type: StoreTypes.JSON\r\n  },\r\n  showGyms: {\r\n    default: false,\r\n    type: StoreTypes.Boolean\r\n  },\r\n  showPokemon: {\r\n    default: true,\r\n    type: StoreTypes.Boolean\r\n  },\r\n  showLuredPokemon: {\r\n    default: true,\r\n    type: StoreTypes.Boolean\r\n  },\r\n  showPokestops: {\r\n    default: true,\r\n    type: StoreTypes.Boolean\r\n  },\r\n  showLuredPokestopsOnly: {\r\n    default: 0,\r\n    type: StoreTypes.Number\r\n  },\r\n  showScanned: {\r\n    default: false,\r\n    type: StoreTypes.Boolean\r\n  },\r\n  playSound: {\r\n    default: false,\r\n    type: StoreTypes.Boolean\r\n  },\r\n  geoLocate: {\r\n    default: false,\r\n    type: StoreTypes.Boolean\r\n  },\r\n  playSound: {\r\n    default: false,\r\n    type: StoreTypes.Boolean\r\n  },\r\n  pokemonIcons: {\r\n    default: 'highres',\r\n    type: StoreTypes.String\r\n  },\r\n  iconSizeModifier: {\r\n    default: 0,\r\n    type: StoreTypes.Number\r\n  }\r\n};\r\n\r\nvar Store = {\r\n  getOption: function(key) {\r\n    var option = StoreOptions[key];\r\n    if (!option) {\r\n      throw \"Store key was not defined \" + key;\r\n    }\r\n    return option;\r\n  },\r\n  get: function(key) {\r\n    var option = this.getOption(key);\r\n    var optionType = option.type;\r\n    var rawValue = localStorage[key];\r\n    if (rawValue === null || rawValue === undefined) {\r\n      return option.default;\r\n    }\r\n    var value = optionType.parse(rawValue);\r\n    return value;\r\n  },\r\n  set: function(key, value) {\r\n    var option = this.getOption(key);\r\n    var optionType = option.type || StoreTypes.String;\r\n    var rawValue = optionType.stringify(value);\r\n    localStorage[key] = rawValue;\r\n  },\r\n  reset: function(key) {\r\n    localStorage.removeItem(key);\r\n  }\r\n};\r\n\r\n//\r\n// Functions\r\n//\r\n\r\nfunction excludePokemon(id) {\r\n  $selectExclude.val(\r\n    $selectExclude.val().concat(id)\r\n  ).trigger('change')\r\n}\r\n\r\nfunction notifyAboutPokemon(id) {\r\n  $selectNotify.val(\r\n    $selectNotify.val().concat(id)\r\n  ).trigger('change')\r\n}\r\n\r\nfunction removePokemonMarker(encounter_id) {\r\n  map_data.pokemons[encounter_id].marker.setMap(null);\r\n  map_data.pokemons[encounter_id].hidden = true;\r\n}\r\n\r\nfunction initMap() {\r\n  map = new google.maps.Map(document.getElementById('map'), {\r\n    center: {\r\n      lat: center_lat,\r\n      lng: center_lng\r\n    },\r\n    zoom: 14,\r\n    fullscreenControl: true,\r\n    streetViewControl: false,\r\n    mapTypeControl: true,\r\n    mapTypeControlOptions: {\r\n      style: google.maps.MapTypeControlStyle.DROPDOWN_MENU,\r\n      position: google.maps.ControlPosition.RIGHT_TOP,\r\n      mapTypeIds: [\r\n        google.maps.MapTypeId.ROADMAP,\r\n        google.maps.MapTypeId.SATELLITE,\r\n        google.maps.MapTypeId.HYBRID,\r\n        google.maps.MapTypeId.TERRAIN,\r\n        'nolabels_style',\r\n        'dark_style',\r\n        'style_light2',\r\n        'style_pgo',\r\n        'dark_style_nl',\r\n        'style_light2_nl',\r\n        'style_pgo_nl'\r\n      ]\r\n    },\r\n  });\r\n\r\n  var style_NoLabels = new google.maps.StyledMapType(noLabelsStyle, {\r\n    name: \"No Labels\"\r\n  });\r\n  map.mapTypes.set('nolabels_style', style_NoLabels);\r\n\r\n  var style_dark = new google.maps.StyledMapType(darkStyle, {\r\n    name: \"Dark\"\r\n  });\r\n  map.mapTypes.set('dark_style', style_dark);\r\n\r\n  var style_light2 = new google.maps.StyledMapType(light2Style, {\r\n    name: \"Light2\"\r\n  });\r\n  map.mapTypes.set('style_light2', style_light2);\r\n\r\n  var style_pgo = new google.maps.StyledMapType(pGoStyle, {\r\n    name: \"PokemonGo\"\r\n  });\r\n  map.mapTypes.set('style_pgo', style_pgo);\r\n\r\n  var style_dark_nl = new google.maps.StyledMapType(darkStyleNoLabels, {\r\n    name: \"Dark (No Labels)\"\r\n  });\r\n  map.mapTypes.set('dark_style_nl', style_dark_nl);\r\n\r\n  var style_light2_nl = new google.maps.StyledMapType(light2StyleNoLabels, {\r\n    name: \"Light2 (No Labels)\"\r\n  });\r\n  map.mapTypes.set('style_light2_nl', style_light2_nl);\r\n\r\n  var style_pgo_nl = new google.maps.StyledMapType(pGoStyleNoLabels, {\r\n    name: \"PokemonGo (No Labels)\"\r\n  });\r\n  map.mapTypes.set('style_pgo_nl', style_pgo_nl);\r\n\r\n  map.addListener('maptypeid_changed', function(s) {\r\n    Store.set('map_style', this.mapTypeId);\r\n  });\r\n\r\n  map.setMapTypeId(Store.get('map_style'));\r\n  google.maps.event.addListener(map, 'idle', updateMap);\r\n\r\n  if ($(\"#next-location:visible\").length) var marker = createSearchMarker();\r\n\r\n  addMyLocationButton();\r\n  initSidebar();\r\n  google.maps.event.addListenerOnce(map, 'idle', function() {\r\n    updateMap();\r\n  });\r\n\r\n  google.maps.event.addListener(map, 'zoom_changed', function() {\r\n    redrawPokemon(map_data.pokemons);\r\n    redrawPokemon(map_data.lure_pokemons);\r\n  });\r\n}\r\n\r\nfunction createSearchMarker() {\r\n  marker = new google.maps.Marker({ //need to keep reference.\r\n    position: {\r\n      lat: center_lat,\r\n      lng: center_lng\r\n    },\r\n    map: map,\r\n    animation: google.maps.Animation.DROP,\r\n    draggable: true\r\n  });\r\n\r\n  var oldLocation = null;\r\n  google.maps.event.addListener(marker, 'dragstart', function() {\r\n    oldLocation = marker.getPosition();\r\n  });\r\n\r\n  google.maps.event.addListener(marker, 'dragend', function() {\r\n    var newLocation = marker.getPosition();\r\n    changeSearchLocation(newLocation.lat(), newLocation.lng())\r\n      .done(function() {\r\n        oldLocation = null;\r\n      })\r\n      .fail(function() {\r\n        if (oldLocation) {\r\n          marker.setPosition(oldLocation);\r\n        }\r\n      });\r\n  });\r\n\r\n  return marker;\r\n}\r\n\r\nfunction initSidebar() {\r\n  $('#gyms-switch').prop('checked', Store.get('showGyms'));\r\n  $('#pokemon-switch').prop('checked', Store.get('showPokemon'));\r\n  $('#pokestops-switch').prop('checked', Store.get('showPokestops'));\r\n  $('#lured-pokestops-only-switch').val(Store.get('showLuredPokestopsOnly'));\r\n  $('#lured-pokestops-only-wrapper').toggle(Store.get('showPokestops'));\r\n  $('#geoloc-switch').prop('checked', Store.get('geoLocate'));\r\n  $('#scanned-switch').prop('checked', Store.get('showScanned'));\r\n  $('#sound-switch').prop('checked', Store.get('playSound'));\r\n  var searchBox = new google.maps.places.SearchBox(document.getElementById('next-location'));\r\n  $(\"#next-location\").css(\"background-color\", $('#geoloc-switch').prop('checked') ? \"#e0e0e0\" : \"#ffffff\");\r\n\r\n  searchBox.addListener('places_changed', function() {\r\n    var places = searchBox.getPlaces();\r\n\r\n    if (places.length == 0) {\r\n      return;\r\n    }\r\n\r\n    var loc = places[0].geometry.location;\r\n    changeLocation(loc.lat(), loc.lng());\r\n  });\r\n\r\n  var icons = $('#pokemon-icons');\r\n  $.each(pokemon_sprites, function(key, value) {\r\n    icons.append($('<option></option>').attr(\"value\", key).text(value.name));\r\n  });\r\n  icons.val((pokemon_sprites[Store.get('pokemonIcons')]) ? Store.get('pokemonIcons') : 'highres');\r\n  $('#pokemon-icon-size').val(Store.get('iconSizeModifier'));\r\n}\r\n\r\nfunction pad(number) {\r\n  return number <= 99 ? (\"0\" + number).slice(-2) : number;\r\n}\r\n\r\nfunction pokemonLabel(name, disappear_time, id, latitude, longitude, encounter_id) {\r\n  var disappear_date = new Date(disappear_time)\r\n\r\n  var contentstring = `\r\n    <div>\r\n      <b>${name}</b>\r\n      <span> - </span>\r\n      <small>\r\n        <a href='http://www.pokemon.com/us/pokedex/${id}' target='_blank' title='View in Pokedex'>#${id}</a>\r\n      </small>\r\n    </div>\r\n    <div>\r\n      Disappears at ${pad(disappear_date.getHours())}:${pad(disappear_date.getMinutes())}:${pad(disappear_date.getSeconds())}\r\n      <span class='label-countdown' disappears-at='${disappear_time}'>(00m00s)</span>\r\n    </div>\r\n    <div>\r\n      Location: ${latitude.toFixed(6)}, ${longitude.toFixed(7)}\r\n    </div>\r\n    <div>\r\n      <a href='javascript:excludePokemon(${id})'>Exclude</a>&nbsp;&nbsp;\r\n      <a href='javascript:notifyAboutPokemon(${id})'>Notify</a>&nbsp;&nbsp;\r\n      <a href='javascript:removePokemonMarker(\"${encounter_id}\")'>Remove</a>&nbsp;&nbsp;\r\n      <a href='https://www.google.com/maps/dir/Current+Location/${latitude},${longitude}' target='_blank' title='View in Maps'>Get directions</a>\r\n    </div>`;\r\n  return contentstring;\r\n}\r\n\r\nfunction gymLabel(team_name, team_id, gym_points, latitude, longitude) {\r\n  var gym_color = [\"0, 0, 0, .4\", \"74, 138, 202, .6\", \"240, 68, 58, .6\", \"254, 217, 40, .6\"];\r\n  var str;\r\n  if (team_id == 0) {\r\n    str = `\r\n      <div>\r\n        <center>\r\n          <div>\r\n            <b style='color:rgba(${gym_color[team_id]})'>${team_name}</b><br>\r\n            <img height='70px' style='padding: 5px;' src='static/forts/${team_name}_large.png'>\r\n          </div>\r\n          <div>\r\n            Location: ${latitude.toFixed(6)}, ${longitude.toFixed(7)}\r\n          </div>\r\n          <div>\r\n            <a href='https://www.google.com/maps/dir/Current+Location/${latitude},${longitude}' target='_blank' title='View in Maps'>Get directions</a>\r\n          </div>\r\n        </center>\r\n      </div>`;\r\n  } else {\r\n    var gym_prestige = [2000, 4000, 8000, 12000, 16000, 20000, 30000, 40000, 50000];\r\n    var gym_level = 1;\r\n    while (gym_points >= gym_prestige[gym_level - 1]) {\r\n      gym_level++;\r\n    }\r\n    str = `\r\n      <div>\r\n        <center>\r\n          <div style='padding-bottom: 2px'>\r\n            Gym owned by:\r\n          </div>\r\n          <div>\r\n            <b style='color:rgba(${gym_color[team_id]})'>Team ${team_name}</b><br>\r\n            <img height='70px' style='padding: 5px;' src='static/forts/${team_name}_large.png'>\r\n          </div>\r\n          <div>\r\n            Level: ${gym_level} | Prestige: ${gym_points}\r\n          </div>\r\n          <div>\r\n            Location: ${latitude.toFixed(6)}, ${longitude.toFixed(7)}\r\n          </div>\r\n          <div>\r\n            <a href='https://www.google.com/maps/dir/Current+Location/${latitude},${longitude}' target='_blank' title='View in Maps'>Get directions</a>\r\n          </div>\r\n        </center>\r\n      </div>`;\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction pokestopLabel(lured, last_modified, active_pokemon_id, latitude, longitude) {\r\n  var str;\r\n  if (lured) {\r\n    var active_pokemon = idToPokemon[active_pokemon_id];\r\n\r\n    var last_modified_date = new Date(last_modified);\r\n    var current_date = new Date();\r\n\r\n    var time_until_expire = current_date.getTime() - last_modified_date.getTime();\r\n\r\n    var expire_date = new Date(current_date.getTime() + time_until_expire);\r\n    var expire_time = expire_date.getTime();\r\n\r\n    str = `\r\n      <div>\r\n        <b>Lured Pokéstop</b>\r\n      </div>\r\n      <div>\r\n        Lured Pokémon: ${active_pokemon}\r\n        <span> - </span>\r\n        <small>\r\n          <a href='http://www.pokemon.com/us/pokedex/${active_pokemon_id}' target='_blank' title='View in Pokedex'>#${active_pokemon_id}</a>\r\n        </small>\r\n      </div>\r\n      <div>\r\n        Lure expires at ${pad(expire_date.getHours())}:${pad(expire_date.getMinutes())}:${pad(expire_date.getSeconds())}\r\n        <span class='label-countdown' disappears-at='${expire_time}'>(00m00s)</span>\r\n      </div>\r\n      <div>\r\n        Location: ${latitude.toFixed(6)}, ${longitude.toFixed(7)}\r\n      </div>\r\n      <div>\r\n        <a href='https://www.google.com/maps/dir/Current+Location/${latitude},${longitude}' target='_blank' title='View in Maps'>Get directions</a>\r\n      </div>`;\r\n  } else {\r\n    str = `\r\n      <div>\r\n        <b>Pokéstop</b>\r\n      </div>\r\n      <div>\r\n        Location: ${latitude.toFixed(6)}, ${longitude.toFixed(7)}\r\n      </div>\r\n      <div>\r\n        <a href='https://www.google.com/maps/dir/Current+Location/${latitude},${longitude}' target='_blank' title='View in Maps'>Get directions</a>\r\n      </div>`;\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction scannedLabel(last_modified) {\r\n  scanned_date = new Date(last_modified)\r\n\r\n  var contentstring = `\r\n    <div>\r\n      Scanned at ${pad(scanned_date.getHours())}:${pad(scanned_date.getMinutes())}:${pad(scanned_date.getSeconds())}\r\n    </div>`;\r\n\r\n  return contentstring;\r\n}\r\n\r\n\r\nfunction getGoogleSprite(index, sprite, display_height) {\r\n  display_height = Math.max(display_height, 3);\r\n  var scale = display_height / sprite.icon_height;\r\n  // Crop icon just a tiny bit to avoid bleedover from neighbor\r\n  var scaled_icon_size = new google.maps.Size(scale * sprite.icon_width - 1, scale * sprite.icon_height - 1);\r\n  var scaled_icon_offset = new google.maps.Point(\r\n    (index % sprite.columns) * sprite.icon_width * scale + 0.5,\r\n    Math.floor(index / sprite.columns) * sprite.icon_height * scale + 0.5);\r\n  var scaled_sprite_size = new google.maps.Size(scale * sprite.sprite_width, scale * sprite.sprite_height);\r\n  var scaled_icon_center_offset = new google.maps.Point(scale * sprite.icon_width / 2, scale * sprite.icon_height / 2);\r\n\r\n  return {\r\n    url: sprite.filename,\r\n    size: scaled_icon_size,\r\n    scaledSize: scaled_sprite_size,\r\n    origin: scaled_icon_offset,\r\n    anchor: scaled_icon_center_offset\r\n  };\r\n}\r\n\r\nfunction setupPokemonMarker(item, skipNotification, isBounceDisabled) {\r\n  // Scale icon size up with the map exponentially\r\n  var icon_size = 2 + (map.getZoom() - 3) * (map.getZoom() - 3) * .2 + Store.get('iconSizeModifier');\r\n  var pokemon_index = item.pokemon_id - 1;\r\n  var sprite = pokemon_sprites[Store.get('pokemonIcons')] || pokemon_sprites['highres']\r\n  var icon = getGoogleSprite(pokemon_index, sprite, icon_size);\r\n\r\n  var animationDisabled = false;\r\n  if (isBounceDisabled == true) {\r\n    animationDisabled = true;\r\n  }\r\n\r\n  var marker = new google.maps.Marker({\r\n    position: {\r\n      lat: item.latitude,\r\n      lng: item.longitude\r\n    },\r\n    zIndex: 9999,\r\n    optimized: false,\r\n    map: map,\r\n    icon: icon,\r\n    animationDisabled: animationDisabled,\r\n  });\r\n\r\n  marker.addListener('click', function() {\r\n    this.setAnimation(null);\r\n    this.animationDisabled = true;\r\n  });\r\n\r\n  marker.infoWindow = new google.maps.InfoWindow({\r\n    content: pokemonLabel(item.pokemon_name, item.disappear_time, item.pokemon_id, item.latitude, item.longitude, item.encounter_id),\r\n    disableAutoPan: true\r\n  });\r\n\r\n  if (notifiedPokemon.indexOf(item.pokemon_id) > -1) {\r\n    if (!skipNotification) {\r\n      if (Store.get('playSound')) {\r\n        audio.play();\r\n      }\r\n      sendNotification('A wild ' + item.pokemon_name + ' appeared!', 'Click to load map', 'static/icons/' + item.pokemon_id + '.png', item.latitude, item.longitude);\r\n    }\r\n    if (marker.animationDisabled != true) {\r\n      marker.setAnimation(google.maps.Animation.BOUNCE);\r\n    }\r\n  }\r\n\r\n  addListeners(marker);\r\n  return marker;\r\n}\r\n\r\nfunction setupGymMarker(item) {\r\n  var marker = new google.maps.Marker({\r\n    position: {\r\n      lat: item.latitude,\r\n      lng: item.longitude\r\n    },\r\n    map: map,\r\n    icon: 'static/forts/' + gym_types[item.team_id] + '.png'\r\n  });\r\n\r\n  marker.infoWindow = new google.maps.InfoWindow({\r\n    content: gymLabel(gym_types[item.team_id], item.team_id, item.gym_points, item.latitude, item.longitude),\r\n    disableAutoPan: true\r\n  });\r\n\r\n  addListeners(marker);\r\n  return marker;\r\n}\r\n\r\nfunction setupPokestopMarker(item) {\r\n  var imagename = !!item.lure_expiration ? \"PstopLured\" : \"Pstop\";\r\n  var marker = new google.maps.Marker({\r\n    position: {\r\n      lat: item.latitude,\r\n      lng: item.longitude,\r\n    },\r\n    map: map,\r\n    zIndex: 2,\r\n    optimized: false,\r\n    icon: 'static/forts/' + imagename + '.png',\r\n  });\r\n\r\n  marker.infoWindow = new google.maps.InfoWindow({\r\n    content: pokestopLabel(!!item.lure_expiration, item.last_modified, item.active_pokemon_id, item.latitude + .003, item.longitude + .003),\r\n    disableAutoPan: true\r\n  });\r\n\r\n  addListeners(marker);\r\n  return marker;\r\n}\r\n\r\nfunction getColorByDate(value) {\r\n  //Changes the color from red to green over 15 mins\r\n  var diff = (Date.now() - value) / 1000 / 60 / 15;\r\n\r\n  if (diff > 1) {\r\n    diff = 1;\r\n  }\r\n\r\n  //value from 0 to 1 - Green to Red\r\n  var hue = ((1 - diff) * 120).toString(10);\r\n  return [\"hsl(\", hue, \",100%,50%)\"].join(\"\");\r\n}\r\n\r\nfunction setupScannedMarker(item) {\r\n  var circleCenter = new google.maps.LatLng(item.latitude, item.longitude);\r\n\r\n  var marker = new google.maps.Circle({\r\n    map: map,\r\n    center: circleCenter,\r\n    radius: 100, // 10 miles in metres\r\n    fillColor: getColorByDate(item.last_modified),\r\n    strokeWeight: 1\r\n  });\r\n\r\n  return marker;\r\n}\r\n\r\nfunction clearSelection() {\r\n  if (document.selection) {\r\n    document.selection.empty();\r\n  } else if (window.getSelection) {\r\n    window.getSelection().removeAllRanges();\r\n  }\r\n}\r\n\r\nfunction addListeners(marker) {\r\n  marker.addListener('click', function() {\r\n    marker.infoWindow.open(map, marker);\r\n    clearSelection();\r\n    updateLabelDiffTime();\r\n    marker.persist = true;\r\n  });\r\n\r\n  google.maps.event.addListener(marker.infoWindow, 'closeclick', function() {\r\n    marker.persist = null;\r\n  });\r\n\r\n  marker.addListener('mouseover', function() {\r\n    marker.infoWindow.open(map, marker);\r\n    clearSelection();\r\n    updateLabelDiffTime();\r\n  });\r\n\r\n  marker.addListener('mouseout', function() {\r\n    if (!marker.persist) {\r\n      marker.infoWindow.close();\r\n    }\r\n  });\r\n\r\n  return marker\r\n}\r\n\r\nfunction clearStaleMarkers() {\r\n  $.each(map_data.pokemons, function(key, value) {\r\n    if (map_data.pokemons[key]['disappear_time'] < new Date().getTime() ||\r\n      excludedPokemon.indexOf(map_data.pokemons[key]['pokemon_id']) >= 0) {\r\n      map_data.pokemons[key].marker.setMap(null);\r\n      delete map_data.pokemons[key];\r\n    }\r\n  });\r\n\r\n  $.each(map_data.lure_pokemons, function(key, value) {\r\n    if (map_data.lure_pokemons[key]['lure_expiration'] < new Date().getTime() ||\r\n      excludedPokemon.indexOf(map_data.lure_pokemons[key]['pokemon_id']) >= 0) {\r\n      map_data.lure_pokemons[key].marker.setMap(null);\r\n      delete map_data.lure_pokemons[key];\r\n    }\r\n  });\r\n\r\n  $.each(map_data.scanned, function(key, value) {\r\n    //If older than 15mins remove\r\n    if (map_data.scanned[key]['last_modified'] < (new Date().getTime() - 15 * 60 * 1000)) {\r\n      map_data.scanned[key].marker.setMap(null);\r\n      delete map_data.scanned[key];\r\n    }\r\n  });\r\n}\r\n\r\nfunction showInBoundsMarkers(markers) {\r\n  $.each(markers, function(key, value) {\r\n    var marker = markers[key].marker;\r\n    var show = false;\r\n    if (!markers[key].hidden) {\r\n      if (typeof marker.getPosition === 'function') {\r\n        if (map.getBounds().contains(marker.getPosition())) {\r\n          show = true;\r\n        }\r\n      } else if (typeof marker.getCenter === 'function') {\r\n        if (map.getBounds().contains(marker.getCenter())) {\r\n          show = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (show && !markers[key].marker.getMap()) {\r\n      markers[key].marker.setMap(map);\r\n    } else if (!show && markers[key].marker.getMap()) {\r\n      markers[key].marker.setMap(null);\r\n    }\r\n  });\r\n}\r\n\r\nfunction loadRawData() {\r\n  var loadPokemon = Store.get('showPokemon');\r\n  var loadGyms = Store.get('showGyms');\r\n  var loadPokestops = Store.get('showPokestops') || Store.get('showPokemon');\r\n  var loadScanned = Store.get('showScanned');\r\n\r\n  var bounds = map.getBounds();\r\n  var swPoint = bounds.getSouthWest();\r\n  var nePoint = bounds.getNorthEast();\r\n  var swLat = swPoint.lat();\r\n  var swLng = swPoint.lng();\r\n  var neLat = nePoint.lat();\r\n  var neLng = nePoint.lng();\r\n\r\n  return $.ajax({\r\n    url: \"raw_data\",\r\n    type: 'GET',\r\n    data: {\r\n      'pokemon': loadPokemon,\r\n      'pokestops': loadPokestops,\r\n      'gyms': loadGyms,\r\n      'scanned': loadScanned,\r\n      'swLat': swLat,\r\n      'swLng': swLng,\r\n      'neLat': neLat,\r\n      'neLng': neLng\r\n    },\r\n    dataType: \"json\",\r\n    cache: false,\r\n    beforeSend: function() {\r\n      if (rawDataIsLoading) {\r\n        return false;\r\n      } else {\r\n        rawDataIsLoading = true;\r\n      }\r\n    },\r\n    complete: function() {\r\n      rawDataIsLoading = false;\r\n    }\r\n  })\r\n}\r\n\r\nfunction processPokemons(i, item) {\r\n  if (!Store.get('showPokemon')) {\r\n    return false; // in case the checkbox was unchecked in the meantime.\r\n  }\r\n\r\n  if (!(item.encounter_id in map_data.pokemons) &&\r\n    excludedPokemon.indexOf(item.pokemon_id) < 0) {\r\n    // add marker to map and item to dict\r\n    if (item.marker) item.marker.setMap(null);\r\n    if (!item.hidden) {\r\n      item.marker = setupPokemonMarker(item);\r\n      map_data.pokemons[item.encounter_id] = item;\r\n    }\r\n  }\r\n}\r\n\r\nfunction processPokestops(i, item) {\r\n  if (!Store.get('showPokestops')) {\r\n    return false;\r\n  }\r\n\r\n  if (Store.get('showLuredPokestopsOnly') && !item.lure_expiration) {\r\n    if (map_data.pokestops[item.pokestop_id] && map_data.pokestops[item.pokestop_id].marker) {\r\n      map_data.pokestops[item.pokestop_id].marker.setMap(null);\r\n      delete map_data.pokestops[item.pokestop_id];\r\n    }\r\n    return true;\r\n  }\r\n\r\n  if (map_data.pokestops[item.pokestop_id] == null) { // add marker to map and item to dict\r\n    // add marker to map and item to dict\r\n    if (item.marker) item.marker.setMap(null);\r\n    item.marker = setupPokestopMarker(item);\r\n    map_data.pokestops[item.pokestop_id] = item;\r\n  } else {\r\n    var item2 = map_data.pokestops[item.pokestop_id];\r\n    if (!!item.lure_expiration != !!item2.lure_expiration || item.active_pokemon_id != item2.active_pokemon_id) {\r\n      item2.marker.setMap(null);\r\n      item.marker = setupPokestopMarker(item);\r\n      map_data.pokestops[item.pokestop_id] = item;\r\n    }\r\n  }\r\n}\r\n\r\nfunction processLuredPokemon(i, item) {\r\n  if (!Store.get('showPokemon')) {\r\n    return false;\r\n  }\r\n  var item2 = {\r\n    pokestop_id: item.pokestop_id,\r\n    lure_expiration: item.lure_expiration,\r\n    pokemon_id: item.active_pokemon_id,\r\n    latitude: item.latitude + 0.00005,\r\n    longitude: item.longitude + 0.00005,\r\n    pokemon_name: idToPokemon[item.active_pokemon_id],\r\n    disappear_time: item.lure_expiration\r\n  };\r\n\r\n  if (item2.pokemon_id == null) {\r\n    return;\r\n  }\r\n\r\n  if (map_data.lure_pokemons[item2.pokestop_id] == null && item2.lure_expiration) {\r\n    //if (item.marker) item.marker.setMap(null);\r\n    if (!item2.hidden) {\r\n      item2.marker = setupPokemonMarker(item2);\r\n      map_data.lure_pokemons[item2.pokestop_id] = item2;\r\n    }\r\n\r\n  }\r\n  if (map_data.lure_pokemons[item.pokestop_id] != null && item2.lure_expiration && item2.active_pokemon_id != map_data.lure_pokemons[item2.pokestop_id].active_pokemon_id) {\r\n    //if (item.marker) item.marker.setMap(null);\r\n    map_data.lure_pokemons[item2.pokestop_id].marker.setMap(null);\r\n    if (!item2.hidden) {\r\n      item2.marker = setupPokemonMarker(item2);\r\n      map_data.lure_pokemons[item2.pokestop_id] = item2;\r\n    }\r\n  }\r\n}\r\n\r\nfunction processGyms(i, item) {\r\n  if (!Store.get('showGyms')) {\r\n    return false; // in case the checkbox was unchecked in the meantime.\r\n  }\r\n\r\n  if (item.gym_id in map_data.gyms) {\r\n    // if team has changed, create new marker (new icon)\r\n    if (map_data.gyms[item.gym_id].team_id != item.team_id) {\r\n      map_data.gyms[item.gym_id].marker.setMap(null);\r\n      map_data.gyms[item.gym_id].marker = setupGymMarker(item);\r\n    } else { // if it hasn't changed generate new label only (in case prestige has changed)\r\n      map_data.gyms[item.gym_id].marker.infoWindow = new google.maps.InfoWindow({\r\n        content: gymLabel(gym_types[item.team_id], item.team_id, item.gym_points, item.latitude, item.longitude),\r\n        disableAutoPan: true\r\n      });\r\n    }\r\n  } else { // add marker to map and item to dict\r\n    if (item.marker) item.marker.setMap(null);\r\n    item.marker = setupGymMarker(item);\r\n    map_data.gyms[item.gym_id] = item;\r\n  }\r\n\r\n}\r\n\r\n\r\nfunction processScanned(i, item) {\r\n  if (!Store.get('showScanned')) {\r\n    return false;\r\n  }\r\n\r\n  if (item.scanned_id in map_data.scanned) {\r\n    map_data.scanned[item.scanned_id].marker.setOptions({\r\n      fillColor: getColorByDate(item.last_modified)\r\n    });\r\n  } else { // add marker to map and item to dict\r\n    if (item.marker) item.marker.setMap(null);\r\n    item.marker = setupScannedMarker(item);\r\n    map_data.scanned[item.scanned_id] = item;\r\n  }\r\n}\r\n\r\n\r\nfunction updateMap() {\r\n  loadRawData().done(function(result) {\r\n    $.each(result.pokemons, processPokemons);\r\n    $.each(result.pokestops, processPokestops);\r\n    $.each(result.pokestops, processLuredPokemon);\r\n    $.each(result.gyms, processGyms);\r\n    $.each(result.scanned, processScanned);\r\n    showInBoundsMarkers(map_data.pokemons);\r\n    showInBoundsMarkers(map_data.lure_pokemons);\r\n    showInBoundsMarkers(map_data.gyms);\r\n    showInBoundsMarkers(map_data.pokestops);\r\n    showInBoundsMarkers(map_data.scanned);\r\n    clearStaleMarkers();\r\n    if ($(\"#stats\").hasClass(\"visible\")) {\r\n      countMarkers();\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\r\nfunction redrawPokemon(pokemon_list) {\r\n  var skipNotification = true;\r\n  $.each(pokemon_list, function(key, value) {\r\n    var item = pokemon_list[key];\r\n    if (!item.hidden) {\r\n      var new_marker = setupPokemonMarker(item, skipNotification, this.marker.animationDisabled);\r\n      item.marker.setMap(null);\r\n      pokemon_list[key].marker = new_marker;\r\n    }\r\n  });\r\n};\r\n\r\nvar updateLabelDiffTime = function() {\r\n  $('.label-countdown').each(function(index, element) {\r\n    var disappearsAt = new Date(parseInt(element.getAttribute(\"disappears-at\")));\r\n    var now = new Date();\r\n\r\n    var difference = Math.abs(disappearsAt - now);\r\n    var hours = Math.floor(difference / 36e5);\r\n    var minutes = Math.floor((difference - (hours * 36e5)) / 6e4);\r\n    var seconds = Math.floor((difference - (hours * 36e5) - (minutes * 6e4)) / 1e3);\r\n    var timestring = \"\";\r\n\r\n    if (disappearsAt < now) {\r\n      timestring = \"(expired)\";\r\n    } else {\r\n      timestring = \"(\";\r\n      if (hours > 0)\r\n        timestring = hours + \"h\";\r\n\r\n      timestring += (\"0\" + minutes).slice(-2) + \"m\";\r\n      timestring += (\"0\" + seconds).slice(-2) + \"s\";\r\n      timestring += \")\";\r\n    }\r\n\r\n    $(element).text(timestring)\r\n  });\r\n};\r\n\r\nfunction getPointDistance(pointA, pointB) {\r\n  return google.maps.geometry.spherical.computeDistanceBetween(pointA, pointB);\r\n}\r\n\r\nfunction sendNotification(title, text, icon, lat, lng) {\r\n  if (!(\"Notification\" in window)) {\r\n    return false; // Notifications are not present in browser\r\n  }\r\n\r\n  if (Notification.permission !== \"granted\") {\r\n    Notification.requestPermission();\r\n  } else {\r\n    var notification = new Notification(title, {\r\n      icon: icon,\r\n      body: text,\r\n      sound: 'sounds/ding.mp3'\r\n    });\r\n\r\n    notification.onclick = function() {\r\n      window.focus();\r\n      notification.close();\r\n\r\n      centerMap(lat, lng, 20);\r\n    };\r\n  }\r\n}\r\n\r\nfunction myLocationButton(map, marker) {\r\n  var locationContainer = document.createElement('div');\r\n\r\n  var locationButton = document.createElement('button');\r\n  locationButton.style.backgroundColor = '#fff';\r\n  locationButton.style.border = 'none';\r\n  locationButton.style.outline = 'none';\r\n  locationButton.style.width = '28px';\r\n  locationButton.style.height = '28px';\r\n  locationButton.style.borderRadius = '2px';\r\n  locationButton.style.boxShadow = '0 1px 4px rgba(0,0,0,0.3)';\r\n  locationButton.style.cursor = 'pointer';\r\n  locationButton.style.marginRight = '10px';\r\n  locationButton.style.padding = '0px';\r\n  locationButton.title = 'Your Location';\r\n  locationContainer.appendChild(locationButton);\r\n\r\n  var locationIcon = document.createElement('div');\r\n  locationIcon.style.margin = '5px';\r\n  locationIcon.style.width = '18px';\r\n  locationIcon.style.height = '18px';\r\n  locationIcon.style.backgroundImage = 'url(static/mylocation-sprite-1x.png)';\r\n  locationIcon.style.backgroundSize = '180px 18px';\r\n  locationIcon.style.backgroundPosition = '0px 0px';\r\n  locationIcon.style.backgroundRepeat = 'no-repeat';\r\n  locationIcon.id = 'current-location';\r\n  locationButton.appendChild(locationIcon);\r\n\r\n  locationButton.addEventListener('click', function() {\r\n    var currentLocation = document.getElementById('current-location');\r\n    var imgX = '0';\r\n    var animationInterval = setInterval(function() {\r\n      if (imgX == '-18') imgX = '0';\r\n      else imgX = '-18';\r\n      currentLocation.style.backgroundPosition = imgX + 'px 0';\r\n    }, 500);\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(function(position) {\r\n        var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n        locationMarker.setVisible(true);\r\n        locationMarker.setOptions({\r\n          'opacity': 1\r\n        });\r\n        locationMarker.setPosition(latlng);\r\n        map.setCenter(latlng);\r\n        clearInterval(animationInterval);\r\n        currentLocation.style.backgroundPosition = '-144px 0px';\r\n      });\r\n    } else {\r\n      clearInterval(animationInterval);\r\n      currentLocation.style.backgroundPosition = '0px 0px';\r\n    }\r\n  });\r\n\r\n  locationContainer.index = 1;\r\n  map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(locationContainer);\r\n}\r\n\r\nfunction addMyLocationButton() {\r\n  locationMarker = new google.maps.Marker({\r\n    map: map,\r\n    animation: google.maps.Animation.DROP,\r\n    position: {\r\n      lat: center_lat,\r\n      lng: center_lng\r\n    },\r\n    icon: {\r\n      path: google.maps.SymbolPath.CIRCLE,\r\n      fillOpacity: 1,\r\n      fillColor: '#1c8af6',\r\n      scale: 6,\r\n      strokeColor: '#1c8af6',\r\n      strokeWeight: 8,\r\n      strokeOpacity: 0.3\r\n    }\r\n  });\r\n  locationMarker.setVisible(false);\r\n\r\n  myLocationButton(map, locationMarker);\r\n\r\n  google.maps.event.addListener(map, 'dragend', function() {\r\n    var currentLocation = document.getElementById('current-location');\r\n    currentLocation.style.backgroundPosition = '0px 0px';\r\n    locationMarker.setOptions({\r\n      'opacity': 0.5\r\n    });\r\n  });\r\n}\r\n\r\nfunction changeLocation(lat, lng) {\r\n  var loc = new google.maps.LatLng(lat, lng);\r\n  changeSearchLocation(lat, lng).done(function() {\r\n    map.setCenter(loc);\r\n    marker.setPosition(loc);\r\n  });\r\n}\r\n\r\nfunction changeSearchLocation(lat, lng) {\r\n  return $.post(\"next_loc?lat=\" + lat + \"&lon=\" + lng, {});\r\n}\r\n\r\nfunction centerMap(lat, lng, zoom) {\r\n  var loc = new google.maps.LatLng(lat, lng);\r\n\r\n  map.setCenter(loc);\r\n\r\n  if (zoom) {\r\n    map.setZoom(zoom)\r\n  }\r\n}\r\n\r\n//\r\n// Page Ready Exection\r\n//\r\n\r\n$(function() {\r\n  if (!Notification) {\r\n    console.log('could not load notifications');\r\n    return;\r\n  }\r\n\r\n  if (Notification.permission !== \"granted\") {\r\n    Notification.requestPermission();\r\n  }\r\n});\r\n\r\n$(function() {\r\n  function formatState(state) {\r\n    if (!state.id) {\r\n      return state.text;\r\n    }\r\n    var $state = $(\r\n      '<span><i class=\"pokemon-sprite n' + state.element.value.toString() + '\"></i> ' + state.text + '</span>'\r\n    );\r\n    return $state;\r\n  };\r\n\r\n  $selectExclude = $(\"#exclude-pokemon\");\r\n  $selectNotify = $(\"#notify-pokemon\");\r\n  var numberOfPokemon = 151;\r\n\r\n  // Load pokemon names and populate lists\r\n  $.getJSON(\"static/locales/pokemon.\" + language + \".json\").done(function(data) {\r\n    var pokeList = [];\r\n\r\n    idToPokemon = data;\r\n\r\n    $.each(data, function(key, value) {\r\n      if (key > numberOfPokemon) {\r\n        return false;\r\n      }\r\n      pokeList.push({\r\n        id: key,\r\n        text: value + ' - #' + key\r\n      });\r\n    });\r\n\r\n    // setup the filter lists\r\n    $selectExclude.select2({\r\n      placeholder: \"Select Pokémon\",\r\n      data: pokeList,\r\n      templateResult: formatState\r\n    });\r\n    $selectNotify.select2({\r\n      placeholder: \"Select Pokémon\",\r\n      data: pokeList,\r\n      templateResult: formatState\r\n    });\r\n\r\n    // setup list change behavior now that we have the list to work from\r\n    $selectExclude.on(\"change\", function(e) {\r\n      excludedPokemon = $selectExclude.val().map(Number);\r\n      clearStaleMarkers();\r\n      Store.set('remember_select_exclude', excludedPokemon);\r\n    });\r\n    $selectNotify.on(\"change\", function(e) {\r\n      notifiedPokemon = $selectNotify.val().map(Number);\r\n      Store.set('remember_select_notify', notifiedPokemon);\r\n    });\r\n\r\n    // recall saved lists\r\n    $selectExclude.val(Store.get('remember_select_exclude')).trigger(\"change\");\r\n    $selectNotify.val(Store.get('remember_select_notify')).trigger(\"change\");\r\n  });\r\n\r\n  // run interval timers to regularly update map and timediffs\r\n  window.setInterval(updateLabelDiffTime, 1000);\r\n  window.setInterval(updateMap, 5000);\r\n  window.setInterval(function() {\r\n    if (navigator.geolocation && Store.get('geoLocate')) {\r\n      navigator.geolocation.getCurrentPosition(function(position) {\r\n        var baseURL = location.protocol + \"//\" + location.hostname + (location.port ? \":\" + location.port : \"\");\r\n        var lat = position.coords.latitude;\r\n        var lon = position.coords.longitude;\r\n\r\n        //the search function makes any small movements cause a loop. Need to increase resolution\r\n        if (getPointDistance(marker.getPosition(), (new google.maps.LatLng(lat, lon))) > 40) {\r\n          $.post(baseURL + \"/next_loc?lat=\" + lat + \"&lon=\" + lon).done(function() {\r\n            var center = new google.maps.LatLng(lat, lon);\r\n            map.panTo(center);\r\n            marker.setPosition(center);\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }, 1000);\r\n  \r\n  //Wipe off/restore map icons when switches are toggled\r\n  function buildSwitchChangeListener(data, data_type, storageKey) {\r\n    return function () {\r\n      Store.set(storageKey, this.checked);\r\n      if (this.checked) {\r\n        updateMap();\r\n      } else {\r\n        $.each(data_type, function(d, d_type) {\r\n          $.each(data[d_type], function (key, value) {\r\n            data[d_type][key].marker.setMap(null);\r\n          });\r\n          data[d_type] = {}\r\n        });\r\n      }\r\n    };\r\n  }\r\n\r\n  // Setup UI element interactions\r\n  $('#gyms-switch').change(buildSwitchChangeListener(map_data, [\"gyms\"], \"showGyms\"));\r\n  $('#pokemon-switch').change(buildSwitchChangeListener(map_data, [\"pokemons\", \"lure_pokemons\"], \"showPokemon\"));\r\n  $('#scanned-switch').change(buildSwitchChangeListener(map_data, [\"scanned\"], \"showScanned\"));\r\n\r\n  $('#pokestops-switch').change(function() {\r\n    var options = {\r\n        'duration': 500\r\n      },\r\n      wrapper = $('#lured-pokestops-only-wrapper');\r\n    if (this.checked) {\r\n      wrapper.show(options);\r\n    } else {\r\n      wrapper.hide(options);\r\n    }\r\n    return buildSwitchChangeListener(map_data, [\"pokestops\"], \"showPokestops\").bind(this)();\r\n  });\r\n\r\n  $('#lured-pokestops-only-switch').change(function() {\r\n    Store.set(\"showLuredPokestopsOnly\", this.value);\r\n    updateMap();\r\n  });\r\n\r\n  $('#sound-switch').change(function() {\r\n    Store.set(\"playSound\", this.checked);\r\n  });\r\n\r\n  $('#pokemon-icons').change(function() {\r\n    Store.set('pokemonIcons', this.value);\r\n    redrawPokemon(map_data.pokemons);\r\n    redrawPokemon(map_data.lure_pokemons);\r\n  });\r\n\r\n  $('#pokemon-icon-size').change(function() {\r\n    Store.set('iconSizeModifier', this.value);\r\n    redrawPokemon(map_data.pokemons);\r\n    redrawPokemon(map_data.lure_pokemons);\r\n  });\r\n\r\n  $('#geoloc-switch').change(function() {\r\n    $(\"#next-location\").prop(\"disabled\", this.checked);\r\n    $(\"#next-location\").css(\"background-color\", this.checked ? \"#e0e0e0\" : \"#ffffff\");\r\n    if (!navigator.geolocation)\r\n      this.checked = false;\r\n    else\r\n      Store.set('geoLocate', this.checked);\r\n  });\r\n});\r\n"]}