{"version":3,"sources":["../../js/stats.js"],"names":[],"mappings":"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","file":"stats.js","sourcesContent":["function countMarkers() {\r\n\tdocument.getElementById(\"stats-pkmn-label\").innerHTML = \"Pokémons\";\r\n\tdocument.getElementById(\"stats-gym-label\").innerHTML = \"Gyms\";\r\n\tdocument.getElementById(\"stats-pkstop-label\").innerHTML = \"PokéStops\";\r\n\t\r\n\tvar arenaCount = [];\r\n\tvar arenaTotal = 0;\r\n\tvar pkmnCount = [];\r\n\tvar pkmnTotal = 0;\r\n\tvar pokestopCount = [];\r\n\tvar pokestopTotal = 0;\r\n\tif(Store.get('showPokemon'))\r\n\t{\r\n\t\t$.each(map_data.pokemons, function(key, value) {\r\n\t\t\tif (pkmnCount[map_data.pokemons[key]['pokemon_id']] == 0 || pkmnCount[map_data.pokemons[key]['pokemon_id']] == null )\r\n\t\t\t{\r\n\t\t\t\tpkmnCount[map_data.pokemons[key]['pokemon_id']] = {\r\n\t\t\t\t\t\"ID\": map_data.pokemons[key]['pokemon_id'],\r\n\t\t\t\t\t\"Count\": 1,\r\n\t\t\t\t\t\"Name\": map_data.pokemons[key]['pokemon_name']\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tpkmnCount[map_data.pokemons[key]['pokemon_id']].Count += 1;\r\n\t\t\t}\r\n\t\t\tpkmnTotal++;\r\n\t\t});\r\n\t\tpkmnCount.sort(sort_by('Name', false));\r\n\t\t$.each(map_data.pokemons, function(key, value) {\r\n\t\t\tvar pkmnListString = \"<table><thead><tr><th>Icon</th><th>Name</th><th>Count</th><th>%</th></tr></thead><tbody><tr><td></td><td>Total</td><td>\"+pkmnTotal+\"</td></tr>\";\r\n\t\t\tfor(var i=0;i < pkmnCount.length;i++) {\r\n\t\t\t\tif (pkmnCount[i] != null && pkmnCount[i].Count > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tpkmnListString += \"<tr><td><img src=\\\"/static/icons/\" + pkmnCount[i].ID + \".png\\\" /></td><td><a href='http://www.pokemon.com/us/pokedex/\" + pkmnCount[i].ID + \"' target='_blank' title='View in Pokedex' style=\\\"color: black;\\\">\" + pkmnCount[i].Name + \"</a></td><td>\" + pkmnCount[i].Count + \"</td><td>\"+Math.round(pkmnCount[i].Count*100/pkmnTotal*10)/10+\"%</td></tr>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tpkmnListString += \"</tbody></table>\";\r\n\t\t\tdocument.getElementById(\"pokemonList\").innerHTML = pkmnListString;\r\n\t\t});\r\n\t}\r\n\telse\r\n\t{\r\n\t\tdocument.getElementById(\"pokemonList\").innerHTML = \"Pokémons markers are disabled\";;\r\n\t}\r\n\tif(Store.get('showGyms'))\r\n\t{\r\n\t\t$.each(map_data.gyms, function(key, value) {\r\n\t\t\tif (arenaCount[map_data.gyms[key]['team_id']] == 0 || arenaCount[map_data.gyms[key]['team_id']] == null )\r\n\t\t\t{\r\n\t\t\t\tarenaCount[map_data.gyms[key]['team_id']] = 1;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tarenaCount[map_data.gyms[key]['team_id']] += 1;\r\n\t\t\t}\r\n\t\t\tarenaTotal++;\r\n\t\t\tvar arenaListString = \"<table><th>Icon</th><th>Team Color</th><th>Count</th><th>%</th><tr><td></td><td>Total</td><td>\"+arenaTotal+\"</td></tr>\";\r\n\t\t\tfor(var i=0;i < arenaCount.length;i++) {\r\n\t\t\t\tif (arenaCount[i] > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(i == 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tarenaListString += \"<tr><td><img src=\\\"/static/forts/Mystic.png\\\" /></td><td>\" + \"Blue\" + \"</td><td>\" + arenaCount[i] + \"</td><td>\"+Math.round(arenaCount[i]*100/arenaTotal*10)/10+\"%</td></tr>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(i == 2)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tarenaListString += \"<tr><td><img src=\\\"/static/forts/Valor.png\\\" /></td><td>\" + \"Red\" + \"</td><td>\" + arenaCount[i] + \"</td><td>\"+Math.round(arenaCount[i]*100/arenaTotal*10)/10+\"%</td></tr>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(i == 3)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tarenaListString += \"<tr><td><img src=\\\"/static/forts/Instinct.png\\\" /></td><td>\" + \"Yellow\" + \"</td><td>\" + arenaCount[i] + \"</td><td>\"+Math.round(arenaCount[i]*100/arenaTotal*10)/10+\"%</td></tr>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tarenaListString += \"<tr><td><img src=\\\"/static/forts/Uncontested.png\\\" /></td><td>\" + \"Clear\" + \"</td><td>\" + arenaCount[i] + \"</td><td>\"+Math.round(arenaCount[i]*100/arenaTotal*10)/10+\"%</td></tr>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tarenaListString += \"</table>\";\r\n\t\t\tdocument.getElementById(\"arenaList\").innerHTML = arenaListString;\r\n\t\t});\r\n\t}\r\n\telse\r\n\t{\r\n\t\tdocument.getElementById(\"arenaList\").innerHTML = \"Gyms markers are disabled\";\r\n\t}\r\n\tif(Store.get('showPokestops'))\r\n\t{\r\n\t\t$.each(map_data.pokestops, function(key, value) {\r\n\t\t\tvar pokestopLured = false;\r\n\t\t\tif(map_data.pokestops[key]['lure_expiration'] != null && map_data.pokestops[key]['lure_expiration'] > 0)\r\n\t\t\t{\r\n\t\t\t\tif (pokestopCount[1] == 0 || pokestopCount[1] == null )\r\n\t\t\t\t{\r\n\t\t\t\t\tpokestopCount[1] = 1;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tpokestopCount[1] += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (pokestopCount[0] == 0 || pokestopCount[0] == null )\r\n\t\t\t\t{\r\n\t\t\t\t\tpokestopCount[0] = 1;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tpokestopCount[0] += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tpokestopTotal++;\r\n\t\t\tvar pokestopListString = \"<table><th>Icon</th><th>Status</th><th>Count</th><th>%</th><tr><td></td><td>Total</td><td>\"+pokestopTotal+\"</td></tr>\";\r\n\t\t\tfor(var i=0;i < pokestopCount.length;i++) {\r\n\t\t\t\tif (pokestopCount[i] > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(i == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpokestopListString += \"<tr><td><img src=\\\"/static/forts/Pstop.png\\\" /></td><td>\" + \"Not Lured\" + \"</td><td>\" + pokestopCount[i] + \"</td><td>\"+Math.round(pokestopCount[i]*100/pokestopTotal*10)/10+\"%</td></tr>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(i == 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpokestopListString += \"<tr><td><img src=\\\"/static/forts/PstopLured.png\\\" /></td><td>\" + \"Lured\" + \"</td><td>\" + pokestopCount[i] + \"</td><td>\"+Math.round(pokestopCount[i]*100/pokestopTotal*10)/10+\"%</td></tr>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tpokestopListString += \"</table>\";\r\n\t\t\tdocument.getElementById(\"pokestopList\").innerHTML = pokestopListString;\r\n\t\t});\r\n\t}\r\n\telse\r\n\t{\r\n\t\tdocument.getElementById(\"pokestopList\").innerHTML = \"PokéStops markers are disabled\";\r\n\t}\r\n};\r\n\r\n$('#stats-switch').change(function() {\r\n    Store.set('showStats', this.checked);\r\n    if (this.checked) {\r\n        countMarkers();\r\n\t\tdocument.getElementById(\"statsToggle\").innerHTML = \"Stats\";\r\n    } else {\r\n\t\tdocument.getElementById(\"pokemonList\").innerHTML = \"\";\r\n\t\tdocument.getElementById(\"arenaList\").innerHTML = \"\";\r\n\t\tdocument.getElementById(\"pokestopList\").innerHTML = \"\";\r\n\t\tdocument.getElementById(\"stats-pkmn-label\").innerHTML = \"\";\r\n\t\tdocument.getElementById(\"stats-gym-label\").innerHTML = \"\";\r\n\t\tdocument.getElementById(\"stats-pkstop-label\").innerHTML = \"\";\r\n\t\tdocument.getElementById(\"statsToggle\").innerHTML = \"\";\r\n\t\tdocument.getElementById(\"stats\").classList.remove('visible');\r\n    }\r\n});\r\n\r\nvar sort_by = function(field, reverse, primer){\r\n    var key = primer ? \r\n        function(x) {return primer(x[field])} : \r\n        function(x) {return x[field]};\r\n\r\n    reverse = !reverse ? 1 : -1;\r\n\r\n    return function (a, b) {\r\n        return a = key(a), b = key(b), reverse * ((a > b) - (b > a));\r\n    } \r\n}\r\n"]}